import{a as ce,b as de}from"./chunk-RJ2JXLZ3.js";import{c as V,d as U,e as F,n as z,o as g,p as H,q as J,t as K,u as E,v as W}from"./chunk-RZD7PGSG.js";import{a as re}from"./chunk-NANYRVL3.js";import{a as pe}from"./chunk-5HLJYOOY.js";import{a as se}from"./chunk-YWYD2KRV.js";import{A as me,C as le,U as ae,a as k,d as Q,k as N,l as Y,m as X,n as Z,p as ee,q as te,s as oe,x as ne,y as ie}from"./chunk-YMFLA43I.js";import"./chunk-Q64FFBLU.js";import{m as y}from"./chunk-C353KNEH.js";import{Bb as f,Gb as a,Lb as x,Mb as r,Nb as n,Uc as w,Vb as D,Xc as q,Zc as G,_c as L,a as d,b as u,fc as i,gc as R,hc as _,jb as s,ka as T,kb as I,kc as p,la as S,lc as c,pa as j,va as $,wa as O}from"./chunk-THA4BGIW.js";var m=U({source:"Enrollment",events:{"Load Enrollments":F(),"Load Courses Options":F(),"Load Students Options":F(),"Create Enrollment":V()}});var M="enrollment",Fe=[{id:"dfd475",studId:"df6e",courseId:"fs6w"}],ge=[{id:"de98",name:"Programaci\xF3n Frontend",createdAt:new Date,maxStud:50},{id:"4hr6",name:"Programaci\xF3n Backend",createdAt:new Date,maxStud:60}],he=[{id:"8768",firstName:"Juan",lastName:"Perez",email:"juanPe@gmail.com",courses:["Programaci\xF3n Frontend"],token:"fBm6bSLfS4wmefQ2V323"},{id:"d4a4",firstName:"Pedro",lastName:"Sanchez",email:"sanchPedri@gmail.com",courses:["Ciberseguridad"],token:"fhV7PRkq15WE6Wph7Tfj"}],Ce={enrollments:[],coursesOpts:[],studOpts:[]},ve=W(Ce,E(m.loadEnrollments,e=>u(d({},e),{enrollments:[...Fe]})),E(m.loadCoursesOptions,e=>u(d({},e),{coursesOpts:[...ge]})),E(m.loadStudentsOptions,e=>u(d({},e),{studOpts:[...he]})),E(m.createEnrollment,(e,o)=>u(d({},e),{enrollments:[...e.enrollments,{id:se(4),courseId:o.courseId,studId:o.studId}]}))),ue=J({name:M,reducer:ve});var B=H(M),fe=g(B,e=>e.enrollments),Ee=g(B,e=>e.coursesOpts),Se=g(B,e=>e.studOpts);function Ie(e,o){if(e&1&&(r(0,"mat-option",8),i(1),p(2,"userFullName"),n()),e&2){let t=o.$implicit;a("value",t.id),s(),_(" ",c(2,2,t)," ")}}function xe(e,o){e&1&&i(0," Este campo es requerido ")}function _e(e,o){if(e&1&&(r(0,"mat-option",8),i(1),n()),e&2){let t=o.$implicit;a("value",t.id),s(),_(" ",t.name," ")}}function ye(e,o){e&1&&i(0," Este campo es requerido ")}var h=class e{constructor(o,t){this.store=o;this.formBuilder=t;this.enrollForm=this.formBuilder.group({courseId:[null,[N.required]],studId:[null,[N.required]]}),this.enrollments$=this.store.select(fe),this.coursesOpts$=this.store.select(Ee),this.studOpts$=this.store.select(Se)}enrollments$;studOpts$;coursesOpts$;enrollForm;ngOnInit(){this.store.dispatch(m.loadEnrollments()),this.store.dispatch(m.loadCoursesOptions()),this.store.dispatch(m.loadStudentsOptions())}onSubmit(){this.enrollForm.invalid?this.enrollForm.markAllAsTouched():this.store.dispatch(m.createEnrollment(this.enrollForm.value))}static \u0275fac=function(t){return new(t||e)(I(z),I(oe))};static \u0275cmp=$({type:e,selectors:[["app-enrollments"]],decls:27,vars:14,consts:[[1,"contContainer"],["appHighlight",""],[3,"ngSubmit","formGroup"],["appearance","outline"],["formControlName","studId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","courseId"],["type","submit","mat-flat-button",""],[3,"value"]],template:function(t,l){if(t&1&&(r(0,"div",0)(1,"h2",1),i(2,"Inscripciones"),n(),r(3,"form",2),D("ngSubmit",function(){return l.onSubmit()}),r(4,"mat-form-field",3)(5,"mat-label"),i(6,"Alumnos"),n(),r(7,"mat-select",4),f(8,Ie,3,4,"mat-option",5),p(9,"async"),n(),r(10,"mat-error"),f(11,xe,1,0),n()(),r(12,"mat-form-field",3)(13,"mat-label"),i(14,"Curso"),n(),r(15,"mat-select",6),f(16,_e,2,2,"mat-option",5),p(17,"async"),n(),r(18,"mat-error"),f(19,ye,1,0),n()(),r(20,"button",7),i(21,"Inscribir"),n()(),r(22,"div")(23,"pre"),i(24),p(25,"async"),p(26,"json"),n()()()),t&2){let b,P;s(3),a("formGroup",l.enrollForm),s(5),a("ngForOf",c(9,6,l.studOpts$)),s(3),x((b=l.enrollForm.get("studId"))!=null&&b.hasError("required")?11:-1),s(5),a("ngForOf",c(17,8,l.coursesOpts$)),s(3),x((P=l.enrollForm.get("courseId"))!=null&&P.hasError("required")?19:-1),s(5),R(c(26,12,c(25,10,l.enrollments$)))}},dependencies:[w,Z,Y,X,ee,te,Q,me,ne,ie,le,k,pe,q,G,re]})};var Ne=[{path:"",component:h}],C=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=O({type:e});static \u0275inj=S({imports:[y.forChild(Ne),y]})};var v=class e{constructor(o){this.actions$=o}static \u0275fac=function(t){return new(t||e)(j(ce))};static \u0275prov=T({token:e,factory:e.\u0275fac})};var Oe=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=O({type:e});static \u0275inj=S({imports:[L,C,K.forFeature(ue),de.forFeature([v]),ae]})};export{Oe as EnrollmentsModule};
